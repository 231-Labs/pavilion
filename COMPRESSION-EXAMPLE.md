# å ´æ™¯é…ç½®å£“ç¸®æ•ˆæœç¤ºä¾‹

## æ‚¨çš„åŸå§‹æ•¸æ“šå£“ç¸®æ•ˆæœ

### ğŸ”´ åŸå§‹æ ¼å¼ï¼ˆå®Œæ•´ç‰ˆï¼‰
```json
{
  "version": 1,
  "createdAt": 1757609900649,
  "updatedAt": 1757610188231,
  "objects": [
    {
      "id": "0xa3d94b8e16b3e61bc0b6b8dc6c0b0e1a8f5c2d4e8b9a1f3c7e9d0b5a2f8c6e4",
      "name": "marble horse statue",
      "type": "walrus_blob",
      "displayed": true,
      "position": {"x": 0, "y": 0, "z": 0},
      "rotation": {"x": 0, "y": 0, "z": 0},
      "scale": 1,
      "resource": {
        "blobId": "rKZ0-tBJr5X6MUIVXgP0b7fNz7yINIcUiJmhFHAi2Cc",
        "format": "glb"
      },
      "updatedAt": 1757610188231
    },
    {
      "id": "0x79cf4b6e8a5d2e9c7b4f1a8e6d3c5b9f2e7a4c8d1b6e9f3a7c2d5b8e4a1c6f9",
      "name": "fox marble statue",
      "type": "walrus_blob",
      "displayed": true,
      "position": {"x": 0, "y": 0, "z": 0},
      "rotation": {"x": 0, "y": 0, "z": 0},
      "scale": 100,
      "resource": {
        "blobId": "kKZ0-tBJr5X6MUIVXgP0b7fNz7yINIcUiJmhFHAi2Dd",
        "format": "glb"
      },
      "updatedAt": 1757610188231
    },
    {
      "id": "0xb8b9df191f8f119788a13c0c0f7cbb3bdb9b908af1f00c3eea7e645895ceae67",
      "name": "jeep wangler",
      "type": "walrus_blob",
      "displayed": true,
      "position": {"x": 0, "y": 0, "z": 0},
      "rotation": {"x": 0, "y": 0, "z": 0},
      "scale": 100,
      "resource": {
        "blobId": "ubBLyowh1GTQFLu4eVy_GtaZEIWUaPTTuQ7TK5CeEfU",
        "format": "glb"
      },
      "updatedAt": 1757610188231
    }
  ],
  "camera": {
    "position": {"x": 0, "y": 1, "z": 20},
    "target": {"x": 0, "y": 0, "z": 0},
    "fov": 75,
    "near": 0.1,
    "far": 1000
  },
  "environment": {
    "backgroundColor": 1710618,
    "ambientLightIntensity": 0.6,
    "directionalLightIntensity": 1.0,
    "directionalLightPosition": {"x": 5, "y": 10, "z": 5},
    "enableShadows": true,
    "showGallery": true
  },
  "metadata": {
    "kioskId": "0xb2ada0ecc1c46a4faf0b7fd3026a452543cea8fce559d3017624094e931e1f81",
    "creator": "0x598928d17a9a5dadfaffdaca2e5d2315bd2e9387d73c8a63488a1a0f4d73ffbd",
    "description": "3D å ´æ™¯é…ç½® - åŒ…å« 3 å€‹å°è±¡",
    "tags": ["3d", "nft", "pavilion"]
  }
}
```

**åŸå§‹å¤§å°**: ç´„ 2,100 å­—ç¯€

---

### ğŸŸ¢ å£“ç¸®æ ¼å¼ï¼ˆéˆä¸Šå„²å­˜ï¼‰
```json
{
  "v": 1,
  "o": [
    {
      "i": "0xa3d94b8e16b3e61bc0b6b8dc6c0b0e1a8f5c2d4e8b9a1f3c7e9d0b5a2f8c6e4",
      "n": "marble horse statue",
      "d": 1,
      "p": [0, 0, 0],
      "r": [0, 0, 0],
      "s": 1,
      "b": "rKZ0-tBJr5X6MUIVXgP0b7fNz7yINIcUiJmhFHAi2Cc"
    },
    {
      "i": "0x79cf4b6e8a5d2e9c7b4f1a8e6d3c5b9f2e7a4c8d1b6e9f3a7c2d5b8e4a1c6f9",
      "n": "fox marble statue",
      "d": 1,
      "p": [0, 0, 0],
      "r": [0, 0, 0],
      "s": 100,
      "b": "kKZ0-tBJr5X6MUIVXgP0b7fNz7yINIcUiJmhFHAi2Dd"
    },
    {
      "i": "0xb8b9df191f8f119788a13c0c0f7cbb3bdb9b908af1f00c3eea7e645895ceae67",
      "n": "jeep wangler",
      "d": 1,
      "p": [0, 0, 0],
      "r": [0, 0, 0],
      "s": 100,
      "b": "ubBLyowh1GTQFLu4eVy_GtaZEIWUaPTTuQ7TK5CeEfU"
    }
  ],
  "t": 1757610188231,
  "k": "0xb2ada0ecc1c46a4faf0b7fd3026a452543cea8fce559d3017624094e931e1f81"
}
```

**å£“ç¸®å¤§å°**: ç´„ 520 å­—ç¯€

---

## ğŸ“Š å£“ç¸®æ•ˆæœåˆ†æ

| é …ç›® | åŸå§‹æ ¼å¼ | å£“ç¸®æ ¼å¼ | ç¯€çœ |
|------|----------|----------|------|
| **æ–‡ä»¶å¤§å°** | 2,100 bytes | 520 bytes | **75%** â¬‡ï¸ |
| **é ä¼° Gas** | 100% | 25% | **75%** â¬‡ï¸ |
| **å„²å­˜æˆæœ¬** | é«˜ | ä½ | **å¤§å¹…é™ä½** |

## ğŸ”§ å£“ç¸®ç­–ç•¥

1. **ç¸®çŸ­éµå**ï¼š`position` â†’ `p`ã€`rotation` â†’ `r`
2. **æ•¸çµ„æ ¼å¼**ï¼š`{"x":0,"y":0,"z":0}` â†’ `[0,0,0]`
3. **å¸ƒçˆ¾å€¼å„ªåŒ–**ï¼š`true/false` â†’ `1/0`
4. **ç§»é™¤å†—é¤˜**ï¼šåªä¿ç•™å¿…è¦çš„éˆä¸Šæ•¸æ“š
5. **é è¨­å€¼çœç•¥**ï¼šformat ç‚º 'glb' æ™‚ä¸å„²å­˜

## ğŸš€ å¯¦éš›ä½¿ç”¨

ç³»çµ±æœƒè‡ªå‹•è™•ç†å£“ç¸®å’Œè§£å£“ç¸®ï¼š

```typescript
// å„²å­˜æ™‚è‡ªå‹•å£“ç¸®
const transaction = sceneConfigManager.createSaveTransaction(fullConfig, kioskId, capId);
// ğŸ’° Console æœƒé¡¯ç¤º: "Storage optimization: 2100 â†’ 520 bytes (75% savings)"

// è®€å–æ™‚è‡ªå‹•è§£å£“
const config = await sceneConfigManager.loadSceneConfig(kioskId);
// ğŸ”„ è‡ªå‹•è­˜åˆ¥æ ¼å¼ä¸¦è½‰æ›ç‚ºå®Œæ•´çµæ§‹
```

**çµæœï¼šæ‚¨çš„ gas è²»ç”¨å°‡é™ä½ç´„ 75%ï¼** ğŸ’°
